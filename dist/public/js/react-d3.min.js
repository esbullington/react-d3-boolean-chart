!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.rd3=e()}}(function(){return function e(t,r,n){function s(a,o){if(!r[a]){if(!t[a]){var c="function"==typeof require&&require;if(!o&&c)return c(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var p=r[a]={exports:{}};t[a][0].call(p.exports,function(e){var r=t[a][1][e];return s(r?r:e)},p,p.exports,e,t,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)s(n[a]);return s}({1:[function(e,t,r){r.BooleanChart=e("./booleanchart").BooleanChart},{"./booleanchart":4}],2:[function(e,t){"use strict";var r=window.React,n=window.d3,s=e("../common"),i=s.Chart,a=s.XAxis,o=(s.YAxis,e("../utils")),c=e("./StackedChart"),l=e("../mixins"),p=l.CartesianChartPropsMixin;t.exports=r.createClass({displayName:"BooleanChart",mixins:[p],propTypes:{dottedLine:r.PropTypes.bool,lineWidth:r.PropTypes.string,lineColor:r.PropTypes.string,margins:r.PropTypes.object,stackedChartMargins:r.PropTypes.object,stackedChartHeight:r.PropTypes.number,colors:r.PropTypes.func,booleanLabels:r.PropTypes.object,stackedChartLabel:r.PropTypes.bool},getDefaultProps:function(){return{dottedLine:!0,lineWidth:"1",lineColor:"black",margins:{top:10,right:20,bottom:40,left:45},stackedChartMargins:{top:20,right:20,bottom:20,left:45},className:"rd3-booleanchart",stackedChartLabel:!1,booleanLabels:{on:"on",off:"off"}}},render:function(){var e=this.props;Array.isArray(e.data)||(e.data=[e.data]);var t,s,l=e.data.length,p=e.height/l,d=e.stackedChartHeight||p;t=e.width-e.margins.left-e.margins.right,s=e.height-e.margins.top-e.margins.bottom;var u;u=d-e.stackedChartMargins.top-e.stackedChartMargins.bottom,e.legend&&(t-=e.legendOffset);var h=o.flattenData(e.data,e.xAccessor,e.yAccessor),f=(h.allValues,h.xValues),x=h.yValues,y=o.calculateScales(t,s,f,x),g="translate("+e.margins.left+","+e.stackedChartMargins.top+")",m=n.scale.ordinal().domain([!0,!1]).rangeBands([0,e.stackedChartInnerHeight/2]),k=e.data.map(function(n,s){return r.createElement("svg",{key:s,y:s*d,width:e.width,height:e.stackedChartInnerHeight},r.createElement("g",{transform:g,className:e.className},s===e.data.length-1?r.createElement(a,{xAxisClassName:"rd3-booleanchart-xaxis",tickFormatting:e.xAxisFormatter,xAxisLabel:e.xAxisLabel,xAxisLabelOffset:e.xAxisLabelOffset,xAxisTickCount:e.xAxisTickCount,xOrient:e.xOrient,xScale:y.xScale,width:t,height:u,stroke:e.axesColor,strokeWidth:e.strokeWidth}):r.createElement("line",{strokeWidth:e.lineWidth,stroke:e.lineColor,strokeDasharray:e.dottedLine?"5, 4":"5, 0",x1:"0",y1:u,x2:t,y2:u}),r.createElement(c,{xScale:y.xScale,yScale:m,seriesName:n.name,data:n.values,fill:e.colors(s),key:n.name,xAccessor:e.xAccessor,yAccessor:e.yAccessor,booleanLabels:n.booleanLabels?n.booleanLabels:e.booleanLabels,stackedChartIndex:s,stackedChartTop:s*u,stackedChartInnerHeight:u,stackedChartLabel:e.stackedChartLabel})))});return r.createElement(i,{viewBox:e.viewBox,legend:e.legend,data:e.data,margins:e.margins,colors:e.colors,width:e.width,height:e.height,title:e.title},k,r.createElement("text",{strokeWidth:"0.01",y:10,x:-e.height/2,textAnchor:"middle",transform:"rotate(270)"},e.yAxisLabel))}})},{"../common":16,"../mixins":18,"../utils":19,"./StackedChart":3}],3:[function(e,t){"use strict";var r=window.React,n=window.d3;t.exports=r.createClass({displayName:"StackedChart",propTypes:{data:r.PropTypes.array,interpolationType:r.PropTypes.string,fill:r.PropTypes.string,xAccessor:r.PropTypes.func,yAccessor:r.PropTypes.func,displayDataPoints:r.PropTypes.bool,booleanLabels:r.PropTypes.object,stackedChartLabel:r.PropTypes.bool},getDefaultProps:function(){return{data:[],interpolationType:"linear",fill:"#fff",xAccessor:function(e){return e.x},yAccessor:function(e){return e.y},displayDataPoints:!0,squareWaveOffsetDivisor:4}},_isDate:function(e,t){return"[object Date]"===Object.prototype.toString.call(t(e))},renderVertical:function(e,t){return e?r.createElement("line",{stroke:this.props.fill,strokeWidth:"2",x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2}):r.createElement("g",null)},render:function(){var e=this.props,t=e.xAccessor,s=e.yAccessor,i=(n.scale.ordinal().domain([!0,!1]).rangeBands([0,e.stackedChartInnerHeight/2]),n.svg.line().y(function(t){return e.yScale(e.yAccessor(t))}).interpolate(e.interpolationType));i.x(this._isDate(e.data[0],t)?function(t){return e.xScale(e.xAccessor(t).getTime())}:function(t){return e.xScale(e.xAccessor(t))});var a=e.data.map(function(n,i){var a,o,c,l,p,d;i===e.data.length-1?(p=e.data[i],d=e.data[i-1]):0===i?(p=e.data[i+1],d=n):(p=e.data[i+1],d=e.data[i-1]),this._isDate(n,t)?(a=e.xScale(t(n).getTime()),o=e.xScale(t(p).getTime())):(a=e.xScale(t(n)),o=e.xScale(t(p)));var u=e.stackedChartInnerHeight/e.squareWaveOffsetDivisor;s(n)?(c=u,l=u):(c=e.stackedChartInnerHeight-u,l=e.stackedChartInnerHeight-u);var h,f;s(d)?(f=u,h=u):(f=e.stackedChartInnerHeight-u,h=e.stackedChartInnerHeight-u);var x=s(n)!==s(p),y={x1:o,x2:o,y1:e.stackedChartInnerHeight-u,y2:u};return r.createElement("g",{key:i},r.createElement("line",{stroke:e.fill,strokeWidth:"2",key:i,x1:a,y1:c,x2:o,y2:l}),x?r.createElement("line",{stroke:e.fill,strokeWidth:"2",x1:y.x1,x2:y.x2,y1:y.y1,y2:y.y2}):r.createElement("g",null))},this);return r.createElement("g",null,e.stackedChartLabel?r.createElement("text",{fontSize:"120%"},e.seriesName):r.createElement("text",null),a,r.createElement("text",{strokeWidth:"0.01",textAnchor:"middle",dy:"0.25em",x:-25,y:e.stackedChartInnerHeight-e.stackedChartInnerHeight/e.squareWaveOffsetDivisor},e.booleanLabels.off),r.createElement("text",{dy:"0.25em",strokeWidth:"0.01",textAnchor:"middle",x:-25,y:e.stackedChartInnerHeight/e.squareWaveOffsetDivisor},e.booleanLabels.on))}})},{}],4:[function(e,t,r){r.BooleanChart=e("./BooleanChart")},{"./BooleanChart":2}],5:[function(e,t){"use strict";var r=window.React,n=window.d3;t.exports=r.createClass({displayName:"exports",propTypes:{width:r.PropTypes.number,height:r.PropTypes.number,margins:r.PropTypes.object,text:r.PropTypes.string,colors:r.PropTypes.func},getDefaultProps:function(){return{text:"#000",colors:n.scale.category20c()}},render:function(){var e=this.props,t={color:"black",fontSize:"50%",verticalAlign:"top"},n=[];e.data.forEach(function(s,i){var a={color:e.colors(i),lineHeight:"60%",fontSize:"200%"};n.push(r.createElement("li",{style:a,key:i},r.createElement("span",{style:t},s.name)))});var s="right",i=e.margins.top,a={wordWrap:"break-word",width:e.sideOffset,paddingLeft:"0",marginBottom:"0",marginTop:i,"float":s};return r.createElement("ul",{style:a},n)}})},{}],6:[function(e,t){"use strict";{var r=window.React;window.d3}t.exports=r.createClass({displayName:"exports",propTypes:{scale:r.PropTypes.func.isRequired,innerTickSize:r.PropTypes.number,outerTickSize:r.PropTypes.number,tickPadding:r.PropTypes.number,tickArguments:r.PropTypes.array,fill:r.PropTypes.string,stroke:r.PropTypes.string},getDefaultProps:function(){return{innerTickSize:6,outerTickSize:6,tickPadding:3,tickArguments:[10],tickValues:null,tickFormat:null}},_d3_scaleExtent:function(e){var t=e[0],r=e[e.length-1];return r>t?[t,r]:[r,t]},_d3_scaleRange:function(e){return e.rangeExtent?e.rangeExtent():this._d3_scaleExtent(e.range())},render:function(){var e,t=this.props,n="top"===t.orient||"left"===t.orient?-1:1,s=this._d3_scaleRange(t.scale);return e="bottom"===t.orient||"top"===t.orient?"M"+s[0]+","+n*t.outerTickSize+"V0H"+s[1]+"V"+n*t.outerTickSize:"M"+n*t.outerTickSize+","+s[0]+"H0V"+s[1]+"H"+n*t.outerTickSize,r.createElement("path",{className:"domain",d:e,style:{shapeRendering:"crispEdges"},fill:"none",stroke:t.stroke,strokeWidth:t.strokeWidth})}})},{}],7:[function(e,t){"use strict";{var r=window.React;window.d3}t.exports=r.createClass({displayName:"exports",getDefaultProps:function(){return{innerTickSize:6,outerTickSize:6,tickPadding:3,tickArguments:[10],tickValues:null}},render:function(){var e,t,n,s,i,a,o,c,l,p,d,u=this.props,h=u.yScale?-1:1,f=Math.max(u.innerTickSize,0)+u.tickPadding;switch(n=u.yScale?u.yScale:u.xScale,t=null==u.tickValues?n.ticks?n.ticks.apply(n,u.tickArguments):n.domain():u.tickValues,a=u.tickFormatting?u.tickFormatting:n.tickFormat?n.tickFormat.apply(n,u.tickArguments):function(e){return e},s=n.rangeBand?function(e){return n(e)+n.rangeBand()/2}:n,u.orient){case"top":e=function(e){return"translate("+s(e)+",0)"},i="middle",c=u.innerTickSize*h,o=f*h,l=0>h?"0em":".71em";break;case"bottom":e=function(e){return"translate("+s(e)+",0)"},i="middle",c=u.innerTickSize*h,o=f*h,l=0>h?"0em":".71em";break;case"left":e=function(e){return"translate(0,"+s(e)+")"},i="end",d=u.innerTickSize*h,p=f*h,l=".32em";break;case"right":e=function(e){return"translate(0,"+s(e)+")"},i="end",d=u.innerTickSize,p=f*h,l=".32em"}return r.createElement("g",null,t.map(function(t,n){return r.createElement("g",{key:n,className:"tick",transform:e(t)},r.createElement("line",{style:{shapeRendering:"crispEdges",opacity:"1",stroke:"#000"},x2:d,y2:c}),r.createElement("text",{strokeWidth:"0.01",dy:l,x:p,y:o,stroke:"#000",textAnchor:i},a(t)))}))}})},{}],8:[function(e,t){"use strict";var r=window.React;t.exports=r.createClass({displayName:"exports",render:function(){var e=this.props,t="0.01";if(e.label)switch(e.orient){case"top":return r.createElement("text",{strokeWidth:t,y:e.offset,x:e.width/2,textAnchor:"middle"},e.label);case"bottom":return r.createElement("text",{strokeWidth:t,y:e.offset,x:e.width/2,textAnchor:"middle"},e.label);case"left":return r.createElement("text",{strokeWidth:t,y:-e.offset,x:-e.height/2,textAnchor:"middle",transform:"rotate(270)"},e.label);case"right":return r.createElement("text",{strokeWidth:t,y:e.offset,x:-e.height/2,textAnchor:"middle",transform:"rotate(270)"},e.label)}return r.createElement("text",null)}})},{}],9:[function(e,t){"use strict";var r=window.React,n=window.d3,s=e("./AxisTicks"),i=e("./AxisLine"),a=e("./Label");t.exports=r.createClass({displayName:"exports",propTypes:{xAxisClassName:r.PropTypes.string.isRequired,xOrient:r.PropTypes.oneOf(["top","bottom"]),xScale:r.PropTypes.func.isRequired,height:r.PropTypes.number.isRequired,fill:r.PropTypes.string,stroke:r.PropTypes.string,tickStroke:r.PropTypes.string,strokeWidth:r.PropTypes.string,xAxisOffset:r.PropTypes.number},getDefaultProps:function(){return{xAxisClassName:"x axis",xAxisLabelOffset:10,xOrient:"bottom",fill:"none",stroke:"none",tickStroke:"#000",strokeWidth:"none",xAxisOffset:0,label:""}},render:function(){var e,t=this.props,o="translate(0,"+(t.xAxisOffset+t.height)+")";return"undefined"!=typeof t.xAxisTickCount&&(e=[t.xAxisTickCount]),"undefined"!=typeof t.xAxisTickInterval&&(e=[n.time[t.xAxisTickInterval.unit],t.xAxisTickInterval.interval]),r.createElement("g",{className:t.xAxisClassName,transform:o},r.createElement(a,{label:t.xAxisLabel,offset:t.xAxisLabelOffset,orient:t.xOrient,margins:t.margins,width:t.width}),r.createElement(s,{tickFormatting:t.tickFormatting,tickArguments:e,xScale:t.xScale,orient:t.xOrient}),r.createElement(i,r.__spread({scale:t.xScale,orient:t.xOrient},t)))}})},{"./AxisLine":6,"./AxisTicks":7,"./Label":8}],10:[function(e,t){"use strict";var r=window.React,n=window.d3,s=e("./AxisTicks"),i=e("./AxisLine");t.exports=r.createClass({displayName:"exports",propTypes:{yAxisClassName:r.PropTypes.string,yOrient:r.PropTypes.oneOf(["left","right"]),yScale:r.PropTypes.func.isRequired,fill:r.PropTypes.string,stroke:r.PropTypes.string,tickStroke:r.PropTypes.string,strokeWidth:r.PropTypes.string,yAxisOffset:r.PropTypes.number},getDefaultProps:function(){return{yAxisClassName:"y axis",yOrient:"left",fill:"none",stroke:"#000",tickStroke:"#000",strokeWidth:"1",yAxisOffset:0}},render:function(){var e,t=this.props;e="right"===t.yOrient?"translate("+(t.yAxisOffset+t.width)+",0)":"translate("+t.yAxisOffset+",0)";var a;return t.yAxisTickCount&&(a=[t.yAxisTickCount]),t.yAxisTickInterval&&(a=[n.time[t.yAxisTickInterval.unit],t.yAxisTickInterval.interval]),r.createElement("g",{className:t.yAxisClassName,transform:e},r.createElement(s,{tickFormatting:t.tickFormatting,tickArguments:a,yScale:t.yScale,orient:t.yOrient,height:t.height,width:t.width}),r.createElement(i,r.__spread({scale:t.yScale,orient:t.yOrient},t)))}})},{"./AxisLine":6,"./AxisTicks":7}],11:[function(e,t,r){r.XAxis=e("./XAxis"),r.YAxis=e("./YAxis")},{"./XAxis":9,"./YAxis":10}],12:[function(e,t){"use strict";var r=window.React;t.exports=r.createClass({displayName:"exports",render:function(){return r.createElement("div",null,r.createElement("svg",{viewBox:this.props.viewBox,width:this.props.width,height:this.props.height},this.props.children))}})},{}],13:[function(e,t){"use strict";var r=window.React,n=e("./LegendChart"),s=e("./BasicChart");t.exports=r.createClass({displayName:"exports",propTypes:{legend:r.PropTypes.bool,viewBox:r.PropTypes.string},getDefaultProps:function(){return{legend:!1}},render:function(){return this.props.legend?r.createElement(n,r.__spread({},this.props)):r.createElement(s,r.__spread({},this.props))}})},{"./BasicChart":12,"./LegendChart":14}],14:[function(e,t){"use strict";var r=window.React,n=e("../Legend");t.exports=r.createClass({displayName:"exports",propTypes:{legend:r.PropTypes.bool,legendPosition:r.PropTypes.string,sideOffset:r.PropTypes.number,margins:r.PropTypes.object,data:r.PropTypes.oneOfType([r.PropTypes.object,r.PropTypes.array])},getDefaultProps:function(){return{data:{},legend:!1,legendPosition:"right",sideOffset:90}},_renderLegend:function(){return this.props.legend?r.createElement(n,{legendPosition:this.props.legendPosition,margins:this.props.margins,colors:this.props.colors,data:this.props.data,width:this.props.width,height:this.props.height,sideOffset:this.props.sideOffset}):void 0},render:function(){return r.createElement("div",{style:{width:this.props.width,height:this.props.height}},r.createElement("h4",null,this.props.title),this._renderLegend(),r.createElement("svg",{viewBox:this.props.viewBox,width:this.props.width-this.props.sideOffset,height:this.props.height},this.props.children))}})},{"../Legend":5}],15:[function(e,t,r){r.BasicChart=e("./BasicChart"),r.Chart=e("./Chart"),r.LegendChart=e("./LegendChart")},{"./BasicChart":12,"./Chart":13,"./LegendChart":14}],16:[function(e,t,r){r.XAxis=e("./axes").XAxis,r.YAxis=e("./axes").YAxis,r.Chart=e("./charts").Chart,r.LegendChart=e("./charts").LegendChart,r.Legend=e("./Legend")},{"./Legend":5,"./axes":11,"./charts":15}],17:[function(e,t){"use strict";var r=window.React,n=window.d3;t.exports={propTypes:{axesColor:r.PropTypes.string,colors:r.PropTypes.func,data:r.PropTypes.oneOfType([r.PropTypes.array,r.PropTypes.object]).isRequired,xOrient:r.PropTypes.oneOf(["top","bottom"]),yOrient:r.PropTypes.oneOf(["left","right"]),yAxisTickCount:r.PropTypes.number,yAxisLabel:r.PropTypes.string,yAxisLabelOffset:r.PropTypes.number,yAxisFormatter:r.PropTypes.func,xAxisTickInterval:r.PropTypes.object,xAxisLabel:r.PropTypes.string,xAxisLabelOffset:r.PropTypes.number,xAxisFormatter:r.PropTypes.func,legend:r.PropTypes.bool,legendOffset:r.PropTypes.number,width:r.PropTypes.number,height:r.PropTypes.number,xAccessor:r.PropTypes.func,yAccessor:r.PropTypes.func,title:r.PropTypes.string,viewBox:r.PropTypes.string},getDefaultProps:function(){return{data:[],xOrient:"bottom",xAxisLabel:"",xAxisLabelOffset:38,yOrient:"left",yAxisLabel:"",yAxisLabelOffset:35,legend:!1,legendOffset:120,width:400,height:200,axesColor:"#000",title:"",colors:n.scale.category20c(),xAccessor:function(e){return e.x},yAccessor:function(e){return e.y}}}}},{}],18:[function(e,t,r){r.CartesianChartPropsMixin=e("./CartesianChartPropsMixin")},{"./CartesianChartPropsMixin":17}],19:[function(e,t,r){var n=window.d3;r.calculateScales=function(e,t,r,s){var i,a;return i=r.length>0&&"[object Date]"===Object.prototype.toString.call(r[0])?n.time.scale().range([0,e]):n.scale.linear().range([0,e]),i.domain(n.extent(r)),a=s.length>0&&"[object Date]"===Object.prototype.toString.call(s[0])?n.time.scale().range([t,0]):n.scale.linear().range([t,0]),a.domain(n.extent(s)),{xScale:i,yScale:a}},r.debounce=function(e,t,r){var n;return function(){var s=this,i=arguments,a=function(){n=null,r||e.apply(s,i)},o=r&&!n;clearTimeout(n),n=setTimeout(a,t),o&&e.apply(s,i)}},r.flattenData=function(e,t,r){var n=[],s=[],i=[],a={};return e.forEach(function(e){e.values.forEach(function(o,c){var l=t(o);if(!isNaN(l)){s.push(l);var p,d=r(o);if("object"==typeof d&&Object.keys(d).length>0)Object.keys(d).forEach(function(e){isNaN(d[e])||(i.push(d[e]),p=0)});else{if(isNaN(d))return;i.push(d),p=d}var u=l+"-"+p;if(!(u in a)){a[u]="";var h={coord:{x:l,y:p},id:e.name+"-"+c};n.push(h)}}})}),{allValues:n,xValues:s,yValues:i}},r.shade=function(e,t){var r,n,s,i,a,o,c,l=Math.min,p=Math.round;return 7!==e.length?e:(c=parseInt(e.slice(1),16),r=c>>16,n=c>>8&255,s=255&c,i=l(255,p((1+t)*r)).toString(16),a=l(255,p((1+t)*n)).toString(16),o=l(255,p((1+t)*s)).toString(16),"#"+i+a+o)}},{}]},{},[1])(1)});
//# sourceMappingURL=react-d3.min.js.map