!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.rd3=e()}}(function(){return function e(t,r,s){function i(a,o){if(!r[a]){if(!t[a]){var c="function"==typeof require&&require;if(!o&&c)return c(a,!0);if(n)return n(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var p=r[a]={exports:{}};t[a][0].call(p.exports,function(e){var r=t[a][1][e];return i(r?r:e)},p,p.exports,e,t,r,s)}return r[a].exports}for(var n="function"==typeof require&&require,a=0;a<s.length;a++)i(s[a]);return i}({1:[function(e,t,r){r.BooleanChart=e("./booleanchart").BooleanChart},{"./booleanchart":4}],2:[function(e,t){"use strict";var r=window.React,s=window.d3,i=e("../common"),n=i.Chart,a=i.XAxis,o=(i.YAxis,e("../utils")),c=e("./StackedChart"),l=e("../mixins"),p=l.CartesianChartPropsMixin;t.exports=r.createClass({displayName:"BooleanChart",mixins:[p],propTypes:{margins:r.PropTypes.object,stackedChartMargins:r.PropTypes.object,colors:r.PropTypes.func,displayDataPoints:r.PropTypes.bool,booleanLabels:r.PropTypes.object,stackedChartLabel:r.PropTypes.bool},getDefaultProps:function(){return{stackedChartHeight:120,margins:{top:10,right:20,bottom:40,left:45},stackedChartMargins:{top:20,right:20,bottom:20,left:45},className:"rd3-booleanchart",stackedChartLabel:!1,booleanLabels:{on:"on",off:"off"}}},render:function(){var e=this.props;Array.isArray(e.data)||(e.data=[e.data]);{var t,i,l=e.data.length;e.height/l}t=e.width-e.margins.left-e.margins.right,i=e.height-e.margins.top-e.margins.bottom;var p;p=e.stackedChartHeight-e.stackedChartMargins.top-e.stackedChartMargins.bottom,e.legend&&(t-=e.legendOffset);var d=o.flattenData(e.data,e.xAccessor,e.yAccessor),u=(d.allValues,d.xValues),h=d.yValues,f=o.calculateScales(t,i,u,h),x="translate("+e.margins.left+","+e.stackedChartMargins.top+")",y=s.scale.ordinal().domain([!0,!1]).rangeBands([0,e.stackedChartInnerHeight/2]),g=e.data.map(function(s,i){return r.createElement("svg",{key:i,y:i*e.stackedChartHeight,width:e.width,height:e.stackedChartInnerHeight},r.createElement("g",{transform:x,className:e.className},i===e.data.length-1?r.createElement(a,{xAxisClassName:"rd3-linechart-xaxis",tickFormatting:e.xAxisFormatter,xAxisLabel:e.xAxisLabel,xAxisLabelOffset:e.xAxisLabelOffset,xAxisTickCount:e.xAxisTickCount,xOrient:e.xOrient,xScale:f.xScale,width:t,height:p,stroke:e.axesColor,strokeWidth:e.strokeWidth}):r.createElement("line",{strokeWidth:"1",stroke:"black",strokeDasharray:"5, 4",x1:"0",y1:p,x2:t,y2:p}),r.createElement(c,{xScale:f.xScale,yScale:y,seriesName:s.name,data:s.values,fill:e.colors(i),key:s.name,xAccessor:e.xAccessor,yAccessor:e.yAccessor,booleanLabels:s.booleanLabels?s.yAxisLabels:e.booleanLabels,stackedChartIndex:i,stackedChartTop:i*p,stackedChartHeight:p,stackedChartLabel:e.stackedChartLabel})))});return r.createElement(n,{viewBox:e.viewBox,legend:e.legend,data:e.data,margins:e.margins,colors:e.colors,width:e.width,height:e.height,title:e.title},g,r.createElement("text",{strokeWidth:"0.01",y:10,x:-e.height/2,textAnchor:"middle",transform:"rotate(270)"},e.yAxisLabel))}})},{"../common":17,"../mixins":19,"../utils":20,"./StackedChart":3}],3:[function(e,t){"use strict";var r=window.React,s=window.d3;t.exports=r.createClass({displayName:"StackedChart",propTypes:{data:r.PropTypes.array,interpolationType:r.PropTypes.string,fill:r.PropTypes.string,xAccessor:r.PropTypes.func,yAccessor:r.PropTypes.func,displayDataPoints:r.PropTypes.bool,booleanLabels:r.PropTypes.object,stackedChartLabel:r.PropTypes.bool},getDefaultProps:function(){return{data:[],interpolationType:"linear",fill:"#fff",xAccessor:function(e){return e.x},yAccessor:function(e){return e.y},displayDataPoints:!0,squareWaveOffsetDivisor:4}},_isDate:function(e,t){return"[object Date]"===Object.prototype.toString.call(t(e))},renderVertical:function(e,t){return e?r.createElement("line",{stroke:this.props.fill,strokeWidth:"2",x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2}):r.createElement("g",null)},render:function(){var e=this.props,t=e.xAccessor,i=e.yAccessor,n=(s.scale.ordinal().domain([!0,!1]).rangeBands([0,e.stackedChartHeight/2]),s.svg.line().y(function(t){return e.yScale(e.yAccessor(t))}).interpolate(e.interpolationType));n.x(this._isDate(e.data[0],t)?function(t){return e.xScale(e.xAccessor(t).getTime())}:function(t){return e.xScale(e.xAccessor(t))});var a=e.data.map(function(s,n){var a,o,c,l,p,d;n===e.data.length-1?(p=e.data[n],d=e.data[n-1]):0===n?(p=e.data[n+1],d=s):(p=e.data[n+1],d=e.data[n-1]),this._isDate(s,t)?(a=e.xScale(t(s).getTime()),o=e.xScale(t(p).getTime())):(a=e.xScale(t(s)),o=e.xScale(t(p)));var u=e.stackedChartHeight/e.squareWaveOffsetDivisor;i(s)?(c=u,l=u):(c=e.stackedChartHeight-u,l=e.stackedChartHeight-u);var h,f;i(d)?(f=u,h=u):(f=e.stackedChartHeight-u,h=e.stackedChartHeight-u);var x=i(s)!==i(p),y={x1:o,x2:o,y1:e.stackedChartHeight-u,y2:u};return r.createElement("g",{key:n},r.createElement("line",{stroke:e.fill,strokeWidth:"2",key:n,x1:a,y1:c,x2:o,y2:l}),x?r.createElement("line",{stroke:e.fill,strokeWidth:"2",x1:y.x1,x2:y.x2,y1:y.y1,y2:y.y2}):r.createElement("g",null))},this);return r.createElement("g",null,e.stackedChartLabel?r.createElement("text",{fontSize:"120%"},e.seriesName):r.createElement("text",null),a,r.createElement("text",{strokeWidth:"0.01",textAnchor:"middle",dy:"0.25em",x:-25,y:e.stackedChartHeight-e.stackedChartHeight/e.squareWaveOffsetDivisor},e.booleanLabels.off),r.createElement("text",{dy:"0.25em",strokeWidth:"0.01",textAnchor:"middle",x:-25,y:e.stackedChartHeight/e.squareWaveOffsetDivisor},e.booleanLabels.on))}})},{}],4:[function(e,t,r){r.BooleanChart=e("./BooleanChart")},{"./BooleanChart":2}],5:[function(e,t){"use strict";var r=window.React,s=window.d3;t.exports=r.createClass({displayName:"exports",propTypes:{width:r.PropTypes.number,height:r.PropTypes.number,margins:r.PropTypes.object,text:r.PropTypes.string,colors:r.PropTypes.func},getDefaultProps:function(){return{text:"#000",colors:s.scale.category20c()}},render:function(){var e=this.props,t={color:"black",fontSize:"50%",verticalAlign:"top"},s=[];e.data.forEach(function(i,n){var a={color:e.colors(n),lineHeight:"60%",fontSize:"200%"};s.push(r.createElement("li",{style:a,key:n},r.createElement("span",{style:t},i.name)))});var i="right",n=e.margins.top,a={wordWrap:"break-word",width:e.sideOffset,paddingLeft:"0",marginBottom:"0",marginTop:n,"float":i};return r.createElement("ul",{style:a},s)}})},{}],6:[function(e,t){"use strict";var r=window.React,s=window.d3,i=r.createClass({displayName:"Polygon",_animateCircle:function(){this.props.structure.cursor("voronoi").cursor(this.props.id).update(function(){return"active"})},_restoreCircle:function(){this.props.structure.cursor("voronoi").cursor(this.props.id).update(function(){return"inactive"})},_drawPath:function(e){return void 0!==e?"M"+e.join(",")+"Z":void 0},render:function(){return r.createElement("path",{onMouseOver:this._animateCircle,onMouseOut:this._restoreCircle,fill:"white",opacity:"0",d:this._drawPath(this.props.vnode)})}});t.exports=r.createClass({displayName:"exports",render:function(){var e=this.props.xScale,t=this.props.yScale,n=s.geom.voronoi().x(function(t){return e(t.coord.x)}).y(function(e){return t(e.coord.y)}).clipExtent([[0,0],[this.props.width,this.props.height]]),a=n(this.props.data).map(function(e,t){return r.createElement(i,{structure:this.props.structure,key:t,id:e.point.id,vnode:e})}.bind(this));return r.createElement("g",null,a)}})},{}],7:[function(e,t){"use strict";{var r=window.React;window.d3}t.exports=r.createClass({displayName:"exports",propTypes:{scale:r.PropTypes.func.isRequired,innerTickSize:r.PropTypes.number,outerTickSize:r.PropTypes.number,tickPadding:r.PropTypes.number,tickArguments:r.PropTypes.array,fill:r.PropTypes.string,stroke:r.PropTypes.string},getDefaultProps:function(){return{innerTickSize:6,outerTickSize:6,tickPadding:3,tickArguments:[10],tickValues:null,tickFormat:null}},_d3_scaleExtent:function(e){var t=e[0],r=e[e.length-1];return r>t?[t,r]:[r,t]},_d3_scaleRange:function(e){return e.rangeExtent?e.rangeExtent():this._d3_scaleExtent(e.range())},render:function(){var e,t=this.props,s="top"===t.orient||"left"===t.orient?-1:1,i=this._d3_scaleRange(t.scale);return e="bottom"===t.orient||"top"===t.orient?"M"+i[0]+","+s*t.outerTickSize+"V0H"+i[1]+"V"+s*t.outerTickSize:"M"+s*t.outerTickSize+","+i[0]+"H0V"+i[1]+"H"+s*t.outerTickSize,r.createElement("path",{className:"domain",d:e,style:{shapeRendering:"crispEdges"},fill:"none",stroke:t.stroke,strokeWidth:t.strokeWidth})}})},{}],8:[function(e,t){"use strict";{var r=window.React;window.d3}t.exports=r.createClass({displayName:"exports",getDefaultProps:function(){return{innerTickSize:6,outerTickSize:6,tickPadding:3,tickArguments:[10],tickValues:null}},render:function(){var e,t,s,i,n,a,o,c,l,p,d,u=this.props,h=u.yScale?-1:1,f=Math.max(u.innerTickSize,0)+u.tickPadding;switch(s=u.yScale?u.yScale:u.xScale,t=null==u.tickValues?s.ticks?s.ticks.apply(s,u.tickArguments):s.domain():u.tickValues,a=u.tickFormatting?u.tickFormatting:s.tickFormat?s.tickFormat.apply(s,u.tickArguments):function(e){return e},i=s.rangeBand?function(e){return s(e)+s.rangeBand()/2}:s,u.orient){case"top":e=function(e){return"translate("+i(e)+",0)"},n="middle",c=u.innerTickSize*h,o=f*h,l=0>h?"0em":".71em";break;case"bottom":e=function(e){return"translate("+i(e)+",0)"},n="middle",c=u.innerTickSize*h,o=f*h,l=0>h?"0em":".71em";break;case"left":e=function(e){return"translate(0,"+i(e)+")"},n="end",d=u.innerTickSize*h,p=f*h,l=".32em";break;case"right":e=function(e){return"translate(0,"+i(e)+")"},n="end",d=u.innerTickSize,p=f*h,l=".32em"}return r.createElement("g",null,t.map(function(t,s){return r.createElement("g",{key:s,className:"tick",transform:e(t)},r.createElement("line",{style:{shapeRendering:"crispEdges",opacity:"1",stroke:"#000"},x2:d,y2:c}),r.createElement("text",{strokeWidth:"0.01",dy:l,x:p,y:o,stroke:"#000",textAnchor:n},a(t)))}))}})},{}],9:[function(e,t){"use strict";var r=window.React;t.exports=r.createClass({displayName:"exports",render:function(){var e=this.props,t="0.01";if(e.label)switch(e.orient){case"top":return r.createElement("text",{strokeWidth:t,y:e.offset,x:e.width/2,textAnchor:"middle"},e.label);case"bottom":return r.createElement("text",{strokeWidth:t,y:e.offset,x:e.width/2,textAnchor:"middle"},e.label);case"left":return r.createElement("text",{strokeWidth:t,y:-e.offset,x:-e.height/2,textAnchor:"middle",transform:"rotate(270)"},e.label);case"right":return r.createElement("text",{strokeWidth:t,y:e.offset,x:-e.height/2,textAnchor:"middle",transform:"rotate(270)"},e.label)}return r.createElement("text",null)}})},{}],10:[function(e,t){"use strict";var r=window.React,s=window.d3,i=e("./AxisTicks"),n=e("./AxisLine"),a=e("./Label");t.exports=r.createClass({displayName:"exports",propTypes:{xAxisClassName:r.PropTypes.string.isRequired,xOrient:r.PropTypes.oneOf(["top","bottom"]),xScale:r.PropTypes.func.isRequired,height:r.PropTypes.number.isRequired,fill:r.PropTypes.string,stroke:r.PropTypes.string,tickStroke:r.PropTypes.string,strokeWidth:r.PropTypes.string,xAxisOffset:r.PropTypes.number},getDefaultProps:function(){return{xAxisClassName:"x axis",xAxisLabelOffset:10,xOrient:"bottom",fill:"none",stroke:"none",tickStroke:"#000",strokeWidth:"none",xAxisOffset:0,label:""}},render:function(){var e,t=this.props,o="translate(0,"+(t.xAxisOffset+t.height)+")";return"undefined"!=typeof t.xAxisTickCount&&(e=[t.xAxisTickCount]),"undefined"!=typeof t.xAxisTickInterval&&(e=[s.time[t.xAxisTickInterval.unit],t.xAxisTickInterval.interval]),r.createElement("g",{className:t.xAxisClassName,transform:o},r.createElement(a,{label:t.xAxisLabel,offset:t.xAxisLabelOffset,orient:t.xOrient,margins:t.margins,width:t.width}),r.createElement(i,{tickFormatting:t.tickFormatting,tickArguments:e,xScale:t.xScale,orient:t.xOrient}),r.createElement(n,r.__spread({scale:t.xScale,orient:t.xOrient},t)))}})},{"./AxisLine":7,"./AxisTicks":8,"./Label":9}],11:[function(e,t){"use strict";var r=window.React,s=window.d3,i=e("./AxisTicks"),n=e("./AxisLine");t.exports=r.createClass({displayName:"exports",propTypes:{yAxisClassName:r.PropTypes.string,yOrient:r.PropTypes.oneOf(["left","right"]),yScale:r.PropTypes.func.isRequired,fill:r.PropTypes.string,stroke:r.PropTypes.string,tickStroke:r.PropTypes.string,strokeWidth:r.PropTypes.string,yAxisOffset:r.PropTypes.number},getDefaultProps:function(){return{yAxisClassName:"y axis",yOrient:"left",fill:"none",stroke:"#000",tickStroke:"#000",strokeWidth:"1",yAxisOffset:0}},render:function(){var e,t=this.props;e="right"===t.yOrient?"translate("+(t.yAxisOffset+t.width)+",0)":"translate("+t.yAxisOffset+",0)";var a;return t.yAxisTickCount&&(a=[t.yAxisTickCount]),t.yAxisTickInterval&&(a=[s.time[t.yAxisTickInterval.unit],t.yAxisTickInterval.interval]),r.createElement("g",{className:t.yAxisClassName,transform:e},r.createElement(i,{tickFormatting:t.tickFormatting,tickArguments:a,yScale:t.yScale,orient:t.yOrient,height:t.height,width:t.width}),r.createElement(n,r.__spread({scale:t.yScale,orient:t.yOrient},t)))}})},{"./AxisLine":7,"./AxisTicks":8}],12:[function(e,t,r){r.XAxis=e("./XAxis"),r.YAxis=e("./YAxis")},{"./XAxis":10,"./YAxis":11}],13:[function(e,t){"use strict";var r=window.React;t.exports=r.createClass({displayName:"exports",render:function(){return r.createElement("div",null,r.createElement("svg",{viewBox:this.props.viewBox,width:this.props.width,height:this.props.height},this.props.children))}})},{}],14:[function(e,t){"use strict";var r=window.React,s=e("./LegendChart"),i=e("./BasicChart");t.exports=r.createClass({displayName:"exports",propTypes:{legend:r.PropTypes.bool,viewBox:r.PropTypes.string},getDefaultProps:function(){return{legend:!1}},render:function(){return this.props.legend?r.createElement(s,r.__spread({},this.props)):r.createElement(i,r.__spread({},this.props))}})},{"./BasicChart":13,"./LegendChart":15}],15:[function(e,t){"use strict";var r=window.React,s=e("../Legend");t.exports=r.createClass({displayName:"exports",propTypes:{legend:r.PropTypes.bool,legendPosition:r.PropTypes.string,sideOffset:r.PropTypes.number,margins:r.PropTypes.object,data:r.PropTypes.oneOfType([r.PropTypes.object,r.PropTypes.array])},getDefaultProps:function(){return{data:{},legend:!1,legendPosition:"right",sideOffset:90}},_renderLegend:function(){return this.props.legend?r.createElement(s,{legendPosition:this.props.legendPosition,margins:this.props.margins,colors:this.props.colors,data:this.props.data,width:this.props.width,height:this.props.height,sideOffset:this.props.sideOffset}):void 0},render:function(){return r.createElement("div",{style:{width:this.props.width,height:this.props.height}},r.createElement("h4",null,this.props.title),this._renderLegend(),r.createElement("svg",{viewBox:this.props.viewBox,width:this.props.width-this.props.sideOffset,height:this.props.height},this.props.children))}})},{"../Legend":5}],16:[function(e,t,r){r.BasicChart=e("./BasicChart"),r.Chart=e("./Chart"),r.LegendChart=e("./LegendChart")},{"./BasicChart":13,"./Chart":14,"./LegendChart":15}],17:[function(e,t,r){r.XAxis=e("./axes").XAxis,r.YAxis=e("./axes").YAxis,r.Chart=e("./charts").Chart,r.LegendChart=e("./charts").LegendChart,r.Legend=e("./Legend"),r.Voronoi=e("./Voronoi")},{"./Legend":5,"./Voronoi":6,"./axes":12,"./charts":16}],18:[function(e,t){"use strict";var r=window.React,s=window.d3;t.exports={propTypes:{axesColor:r.PropTypes.string,colors:r.PropTypes.func,data:r.PropTypes.oneOfType([r.PropTypes.array,r.PropTypes.object]).isRequired,xOrient:r.PropTypes.oneOf(["top","bottom"]),yOrient:r.PropTypes.oneOf(["left","right"]),yAxisTickCount:r.PropTypes.number,yAxisLabel:r.PropTypes.string,yAxisLabelOffset:r.PropTypes.number,yAxisFormatter:r.PropTypes.func,xAxisTickInterval:r.PropTypes.object,xAxisLabel:r.PropTypes.string,xAxisLabelOffset:r.PropTypes.number,xAxisFormatter:r.PropTypes.func,legend:r.PropTypes.bool,legendOffset:r.PropTypes.number,width:r.PropTypes.number,height:r.PropTypes.number,xAccessor:r.PropTypes.func,yAccessor:r.PropTypes.func,title:r.PropTypes.string,viewBox:r.PropTypes.string},getDefaultProps:function(){return{data:[],xOrient:"bottom",xAxisLabel:"",xAxisLabelOffset:38,yOrient:"left",yAxisLabel:"",yAxisLabelOffset:35,legend:!1,legendOffset:120,width:400,height:200,axesColor:"#000",title:"",colors:s.scale.category20c(),xAccessor:function(e){return e.x},yAccessor:function(e){return e.y}}}}},{}],19:[function(e,t,r){r.CartesianChartPropsMixin=e("./CartesianChartPropsMixin")},{"./CartesianChartPropsMixin":18}],20:[function(e,t,r){var s=window.d3;r.calculateScales=function(e,t,r,i){var n,a;return n=r.length>0&&"[object Date]"===Object.prototype.toString.call(r[0])?s.time.scale().range([0,e]):s.scale.linear().range([0,e]),n.domain(s.extent(r)),a=i.length>0&&"[object Date]"===Object.prototype.toString.call(i[0])?s.time.scale().range([t,0]):s.scale.linear().range([t,0]),a.domain(s.extent(i)),{xScale:n,yScale:a}},r.debounce=function(e,t,r){var s;return function(){var i=this,n=arguments,a=function(){s=null,r||e.apply(i,n)},o=r&&!s;clearTimeout(s),s=setTimeout(a,t),o&&e.apply(i,n)}},r.flattenData=function(e,t,r){var s=[],i=[],n=[],a={};return e.forEach(function(e){e.values.forEach(function(o,c){var l=t(o);if(!isNaN(l)){i.push(l);var p,d=r(o);if("object"==typeof d&&Object.keys(d).length>0)Object.keys(d).forEach(function(e){isNaN(d[e])||(n.push(d[e]),p=0)});else{if(isNaN(d))return;n.push(d),p=d}var u=l+"-"+p;if(!(u in a)){a[u]="";var h={coord:{x:l,y:p},id:e.name+"-"+c};s.push(h)}}})}),{allValues:s,xValues:i,yValues:n}},r.shade=function(e,t){var r,s,i,n,a,o,c,l=Math.min,p=Math.round;return 7!==e.length?e:(c=parseInt(e.slice(1),16),r=c>>16,s=c>>8&255,i=255&c,n=l(255,p((1+t)*r)).toString(16),a=l(255,p((1+t)*s)).toString(16),o=l(255,p((1+t)*i)).toString(16),"#"+n+a+o)}},{}]},{},[1])(1)});
//# sourceMappingURL=react-d3.min.js.map